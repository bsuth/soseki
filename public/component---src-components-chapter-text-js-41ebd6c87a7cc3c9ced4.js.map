{"version":3,"sources":["webpack:///./src/components/ChapterText.js","webpack:///./node_modules/gatsby-mdx/mdx-renderer.js","webpack:///./node_modules/@babel/runtime/helpers/construct.js","webpack:///./node_modules/@babel/runtime/helpers/setPrototypeOf.js","webpack:///./node_modules/core-js/modules/es6.object.keys.js"],"names":["ChapterText","_ref","_this","mdx","data","_React$Component","call","this","handleScroll","_assertThisInitialize","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_1___default","lastEvent","handleExit","handleEnter","event","vocab","target","vocabdef","getElementsByClassName","parentElement","style","color","display","window","NavHidden","top","innerWidth","TABLET","NAVBAR_HEIGHT_M","NAVBAR_TOTAL","render","_this$mdx","frontmatter","code","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","onClick","className","title","width","margin","gatsby_mdx_mdx_renderer__WEBPACK_IMPORTED_MODULE_3___default","body","componentDidMount","addEventListener","vocabArray","document","i","length","componentDidUpdate","componentWillUnmount","removeEventListener","React","Component","query","require","MDXTag","withMDXComponents","withMDXScope","module","exports","_ref$scope","scope","_ref$components","components","children","props","_objectWithoutPropertiesLoose","fullScope","_objectSpread","keys","Object","values","map","key","End","_construct","Function","concat","apply","setPrototypeOf","__webpack_require__","Parent","args","Class","Reflect","construct","sham","Proxy","Date","prototype","toString","e","isNativeReflectConstruct","push","instance","bind","arguments","_setPrototypeOf","o","p","__proto__","toObject","$keys","it"],"mappings":"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","file":"component---src-components-chapter-text-js-41ebd6c87a7cc3c9ced4.js","sourcesContent":["// React\nimport React from 'react'\n\n// Gatsby\nimport { graphql } from 'gatsby'\nimport MDXRenderer from \"gatsby-mdx/mdx-renderer\";\n\n// Globals\nimport { TABLET, NAVBAR_HEIGHT_M, NAVBAR_TOTAL } from '../resources/jsGlobalVars'\n\n// Styles\nimport './ChapterText.scss'\n\n\n////////// CHAPTERTEXT //////////\n\n// This component is responsible for rendering the\n// text pages. It also implements some features unavailable \n// to pure css, such as changing the text color of the parent div\n// when hovering a vocab term and adjusting the height of\n// the vocab defs depending on whether the navbar is \n// currently hidden or not.\n\nexport default class ChapterText extends React.Component {\n\tconstructor({ data: { mdx } }) {\n\t\tsuper();\n\t\tthis.mdx = mdx;\n\t}\n\n\trender() {\n\t\tlet { frontmatter, code } = this.mdx;\n\t\treturn(\n\t\t\t<div onClick={void(0)}>\n\t\t\t\t<h2 className=\"chapter_title\">\n\t\t\t\t\t{ frontmatter.title }\n\t\t\t\t</h2>\n\t\t\t\t<hr style={{ width: '45px', margin: 'auto' }} />\n\t\t\t\t<MDXRenderer>{ code.body }</MDXRenderer>\n\t\t\t</div>\n\t\t);\n\t}\n\n\t// Attach hover event listeners to all vocab elements and\n\t// a scroll event listener for the window.\n\tcomponentDidMount() {\n\t\twindow.addEventListener('scroll', this.handleScroll);\n\t\tlet vocabArray = document.getElementsByClassName(\"vocab\");\n\n\t\tfor(let i = 0; i < vocabArray.length; ++i) {\n\t\t\tvocabArray[i].addEventListener('mouseenter', this.handleEnter);\n\t\t\tvocabArray[i].addEventListener('mouseleave', this.handleExit);\n\t\t}\n\t}\n\n\t// When the user is directed to this page via a link,\n\t// this is required in order to attach the event listeners\n\t// to the 'vocab' class elements. I'm not quite sure why this\n\t// is necessary, but only attaching the event listeners in\n\t// componentDidMount() does not suffice, and all elements \n\t// will lack event listeners unless the page is refreshed.\n\tcomponentDidUpdate() {\n\t\tthis.componentDidMount();\n\t\tthis.vocabArray = document.getElementsByClassName(\"vocab\");\n\t}\n\n\t// Clean up the event listeners set in componentDidMount()\n\tcomponentWillUnmount() {\n\t\tlet { vocabArray } = this;\n\t\twindow.removeEventListener('scroll', this.handleScroll);\n\t\tfor(let i = 0; i < vocabArray.length; ++i) {\n\t\t\tvocabArray[i].removeEventListener('mouseenter', this.handleEnter);\n\t\t\tvocabArray[i].removeEventListener('mouseleave', this.handleExit);\n\t\t}\n\t}\n\n\t// Clear any hover effects when the user scrolls\n\thandleScroll = () => {\n\t\tlet { lastEvent, handleExit } = this;\n\t\thandleExit(lastEvent);\n\t}\n\n\t// Show the vocab definition of the hovered vocab and fade out all\n\t// surrounding text. Note that the position of the vocab definition\n\t// will differ depending on whether the navbar is currently showing or not.\n\thandleEnter = (event) => {\n\t\tthis.lastEvent = event;\n\t\tlet vocab = event.target;\n\t\tlet vocabdef = vocab.getElementsByClassName(\"vocabdef\")[0];\n\n\t\tvocab.parentElement.parentElement.style.color = '#a0a0a0';\n\t\tvocab.style.color = 'white';\n\t\tvocabdef.style.display = 'block';\n\n\t\t// Read global variable (set by <Navbar> component) to determine\n\t\t// the appropriate height for the vocab def of the currently\n\t\t// hovered vocab.\n\t\tif(window.NavHidden) {\n\t\t\tvocabdef.style.top = window.innerWidth < TABLET ? '5px' : '20px';\n\t\t} else {\n\t\t\tvocabdef.style.top = (window.innerWidth < TABLET ? NAVBAR_HEIGHT_M : NAVBAR_TOTAL) + 'px';\n\t\t}\n\t}\n\n\t// Revert all effects made in the handleEnter() event listener\n\thandleExit = (event) => {\n\t\tif(event) {\n\t\t\tlet vocab = event.target;\n\t\t\tlet vocabdef = vocab.getElementsByClassName(\"vocabdef\")[0];\n\n\t\t\tvocab.parentElement.parentElement.style.color = 'white';\n\t\t\tvocab.style.color = 'inherit';\n\t\t\tvocabdef.style.display = 'none';\n\t\t}\n\t}\n};\n\n// Query the document to be rendered.\nexport const query = graphql`\n  query($id: String) {\n    mdx(id: { eq: $id }) {\n      frontmatter {\n        title\n      }\n      code {\n        body\n      }\n    }\n  }\n`\n\n////////// CHAPTERTEXT //////////\n","const React = require(\"react\");\nconst { MDXTag } = require(\"@mdx-js/tag\");\nconst { withMDXComponents } = require(\"@mdx-js/tag/dist/mdx-provider\");\nconst { withMDXScope } = require(\"./context\");\n\nmodule.exports = withMDXScope(\n  withMDXComponents(({ scope = {}, components = {}, children, ...props }) => {\n    if (!children) {\n      return null;\n    }\n    const fullScope = {\n      // React and MDXTag are here just in case the user doesn't pass them in\n      // in a manual usage of the renderer\n      React,\n      MDXTag,\n      ...scope\n    };\n\n    // children is pre-compiled mdx\n    const keys = Object.keys(fullScope);\n    const values = keys.map(key => fullScope[key]);\n    const fn = new Function(\"_fn\", ...keys, `${children}`);\n\n    const End = fn({}, ...values);\n    return React.createElement(End, { components, ...props });\n  })\n);\n","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nfunction _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    module.exports = _construct = Reflect.construct;\n  } else {\n    module.exports = _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}\n\nmodule.exports = _construct;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n"],"sourceRoot":""}